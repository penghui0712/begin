var shipmentName;$(function(){function i(){for(var i=[],t=$("#fq_list").children().length,e=0;t>e;e++)i.push($("#fq_list").children()[e].innerText);return i}function t(i){for(var t=[],e=$("#"+i).children().length,n=0;e>n;n++)t.push($("#"+i).children()[n].innerText);return t}function e(){for(var i=[],e=$("#qx_list").children().length,n=0;e>n;n++){var s="qxgroup"+(1+n);i.push(t(s))}return i}function n(){var i=$("#qx_list").children().length+1,t="",e="",n="qxgroup"+i;i%2==1?(t='<div class="ss_item onum" id="'+n+'"></div>',e+='<div class="sm_item onum">'):(t='<div class="ss_item" id="'+n+'"></div>',e+='<div class="sm_item">');var r="<div class='fq_item'> <span>• "+shipmentName+"</span> </div>";e+="<div class='input1'><span>¥</span><input type='text'/></div><div class='input2'><input type='text'/></div><div class='input1'><span>¥</span><input type='text'/></div></div>",$("#fq_list").append(r),$("#qx_list").append(t),$("#right_list").append(e),Sortable.create($("#"+n)[0],{group:"qxgroup",onMove:function(i){s($(i.from),$(i.to))}})}function s(i,t){var e=$(".ss_item").index($(i)),n=$(".ss_item").index($(t));if(e!=n){var s=$(i).height(),r=$(t).height(),a=$(".fq_item").eq(e),o=$(".fq_item").eq(n),d=$(".sm_item").eq(e),l=$(".sm_item").eq(n);$(a).height(s),$(o).height(r),$(d).height(s),$(l).height(r)}}Sortable.create($("#qxgroup1")[0],{group:"qxgroup",onMove:function(i){s($(i.from),$(i.to))}}),$("#shipment_add").click(function(){$("#add_shipment_fq_dialog").modal("show")}),$("#fq_add").click(function(){return $("#add_shipment_fq_dialog").modal("hide"),shipmentName=$("#fq_title").val().trim(),-1!=i().indexOf("• "+shipmentName)?void alert("分区名不能重复！"):void n()});var r=function(){alert("运费添加成功！")};$("#save").click(function(){for(var t,n,s=$("#fq_list").children().length,a=0;s>a;a++){t=i()[a].substring(2,4),n=e()[a].join(",");var o={name:t,citys:n};doPost("/huoban-sales/http/sales/function/freight/insertFreight.do",o,r)}})});